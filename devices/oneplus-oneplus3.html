<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>OnePlus OnePlus 3 â€” Mobile NixOS</title>
<link rel="stylesheet" href="../styles/styles.css">
<link lang="en" rel="alternate" type="application/rss+xml" title="RSS feed (EN)" href="../index.xml" />
</head>
<body class="devices_oneplus-oneplus3 article">
<header>
  <nav>
    <ul>
      <li>
        <h1>
          <a href='../index.html' class=''>Mobile NixOS</a>
        </h1>
      </li>
      <li><a href='../getting-started.html' class=''>Getting Started</a></li>
      <li><a href='../resources.html' class=''>Resources</a></li>
      <li><a href='../devices/index.html' class=''>Devices List</a></li>
    </ul>
  </nav>
</header>

<div id="header">
<h1>OnePlus OnePlus 3</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="sidebarblock device-sidebar">
<div class="content">
<div class="title">OnePlus OnePlus 3</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Manufacturer</dt>
<dd>
<p>OnePlus</p>
</dd>
<dt class="hdlist1">Name</dt>
<dd>
<p>OnePlus 3</p>
</dd>
<dt class="hdlist1">Identifier</dt>
<dd>
<p>oneplus-oneplus3</p>
</dd>
<dt class="hdlist1">System Type</dt>
<dd>
<p>android</p>
</dd>
<dt class="hdlist1">SoC</dt>
<dd>
<p>qualcomm-msm8996</p>
</dd>
<dt class="hdlist1">Architecture</dt>
<dd>
<p>aarch64-linux</p>
</dd>
<dt class="hdlist1">Source</dt>
<dd>
<p><a href="https://github.com/NixOS/mobile-nixos/tree/master/devices/oneplus-oneplus3">Mobile NixOS repository</a></p>
</dd>
<dt class="hdlist1">Builds</dt>
<dd>
<p><a href="https://hydra.nixos.org/job/mobile-nixos/unstable/device.oneplus-oneplus3.x86_64-linux">Hydra (<code>default</code> build)</a></p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building">Building</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This will build the default output for your <em>OnePlus OnePlus 3</em>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ nix-build --argstr device oneplus-oneplus3 -A build.default</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The device will need to be booted in its bootloader, or <code>fastboot</code>, mode.
The boot image can be installed using the following command, assuming it was
built using the previous command.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ result/flash-critical.sh</pre>
</div>
</div>
<div class="paragraph">
<p>If you have a system image (<code>system.img</code>) built, you can use <code>fastboot</code> to
flash it to the device. Note that it might be too big to fit over the <code>system</code>
partition. In such case, it can be flashed on the <code>userdata</code> partition.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<strong>This will erase everything on the partition</strong>. Additionally, the
common backups methods, e.g. TWRP, will <strong>not</strong> backup the <code>userdata</code> partition.
</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>$ fastboot flash userdata system.img</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_device_specific_notes">Device-specific notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using <code>fastboot</code> to burn system.img to the userdata partition will fail.</p>
</div>
<div class="paragraph">
<p>It seems like it flashes successfully like other devices do, but the flashed
image will not boot.</p>
</div>
<div class="paragraph">
<p>The current workaround is to <code>fastboot boot</code> TWRP and use <code>dd</code> through <code>adb</code> to
flash the image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code> $ cat .../.system.img | adb shell dd of=/dev/block/by-name/userdata bs=8m</code></pre>
</div>
</div>
</div>
</div>
</div>
<link rel="stylesheet" href="../styles/rouge-github.css">
<footer id="footer">
  <nav>
    <ul>
      <li></li>
      
      
      <li><a href='../sitemap.html' class=''>Site Map</a></li>
    </ul>
  </nav>
</footer>

</body>
</html>